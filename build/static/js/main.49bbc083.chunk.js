(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},244:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),o=a.n(c),s=(a(215),a(216),a(5)),i=a(32),u=a(24),d=a(11),l=a.n(d),p=a(17),b=a(3),j=a(9),m=a(6),f=a(30),x=a(331),h=a(22),O=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),v=a(99),g=a(16),w=a.n(g),k=(a(244),a(330)),y=a(27),S=a.n(y),C=a(329),I=a(1),D=Object(m.a)(f.c)((function(e){var t=e.theme;return{"label + &":{marginTop:t.spacing(3)},"& .MuiInputBase-input":{position:"relative",backgroundColor:"white",border:"1px solid #D9D9D6",borderRadius:"10px",width:"100%",padding:"10px 15px",transition:t.transitions.create(["border-color","background-color","box-shadow","border-width"])}}}));function T(){var e,t=Object(h.useToasts)().addToast,a=Object(n.useContext)(O).setLoginStatus,c=Object(u.f)(),o=Object(n.useState)(""),i=Object(s.a)(o,2),d=i[0],m=i[1],f=r.a.useState({password:"",showPassword:!1}),g=Object(s.a)(f,2),y=g[0],T=g[1],P=function(){var e=Object(p.a)(l.a.mark((function e(){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.password,"superadmin"!==d||"superadmin"!==n){e.next=4;break}return c.push("/admin"),e.abrupt("return");case 4:if(d){e.next=7;break}return t("Ingrese su E-mail",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 7:if(n){e.next=10;break}return t("Por favor, ingrese contrase\xf1a",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 10:return r={email:d,password:n},e.next=13,w.a.post("/users/login",r);case 13:if("No User"!==(o=e.sent).data.status){e.next=17;break}return t(o.data.msg,{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 17:if("Wrong Password"!==o.data.status){e.next=20;break}return t(o.data.msg,{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 20:if("No Active"!==o.data.status){e.next=23;break}return t(o.data.msg,{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 23:a({token:o.data.token,email:o.data.email,customerId:""}),localStorage.setItem("auth-token",o.data.token),o.data.directSale?c.push("/invite"):c.push("/translist");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(C.a,{sx:{height:"100vh",backgroundColor:"#1a1938"},children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){c.push("/")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsxs)("div",{className:"reg-item",children:[Object(I.jsx)("p",{className:"title",children:"Iniciar Sesi\xf3n"}),Object(I.jsx)(D,{placeholder:"Email",sx:{width:"90%",my:"14px",mt:"25px"},value:d,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(D,{placeholder:"Contrase\xf1a",sx:{width:"90%",marginBottom:"14px"},type:y.showPassword?"text":"password",value:y.password,onChange:(e="password",function(t){T(Object(j.a)(Object(j.a)({},y),{},Object(b.a)({},e,t.target.value)))}),label:"Password"}),Object(I.jsxs)("div",{className:"bt-home",children:[Object(I.jsx)(x.a,{sx:{backgroundColor:"transparent",width:"70%",color:"#0dcaf0",p:2,mt:"20%"},color:"primary",variant:"filled",onClick:P,children:"I N G R E S A R"}),Object(I.jsx)(v.a,{variant:"subtitle2",children:"Olvidaste la contrase\xf1a?"})]})]})]})}var P=a(28),N="SAVE_EMAIL",E="SEL_DATA",_="SLIDE_DATA",A=function(e){return{type:E,payload:e}},z=function(e){return{type:_,payload:e}},R=(a(253),Object(m.a)(f.c)((function(e){var t=e.theme;return{"label + &":{marginTop:t.spacing(3)},"& .MuiInputBase-input":{position:"relative",borderRadius:"10px",backgroundColor:"white",border:"1px solid #D9D9D6",padding:"12px 16px",transition:t.transitions.create(["border-color","background-color","box-shadow","border-width"])}}})));function L(){var e,t=Object(P.b)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],d=r.a.useState({password:"",showPassword:!1}),m=Object(s.a)(d,2),f=m[0],v=m[1],g=r.a.useState({repassword:"",showRePassword:!1}),y=Object(s.a)(g,2),D=y[0],T=y[1],E=Object(n.useState)(null),_=Object(s.a)(E,2),A=_[0],z=_[1],L=Object(h.useToasts)().addToast,W=Object(n.useContext)(O).setLoginStatus,B=Object(u.f)(),M=function(){var e=Object(p.a)(l.a.mark((function e(){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.password,n=D.repassword,o){e.next=5;break}return L("Ingresa Email",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 5:if(a){e.next=8;break}return L("Ingresa Contrase\xf1a",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 8:if(a===n){e.next=11;break}return L("Confirmar Contrase\xf1a",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 11:if(A){e.next=14;break}return L("Ingresa n\xfamero de tel\xe9fono",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 14:return r={email:o,password:a,phoneNumber:A},e.next=17,w.a.post("/users/register",r);case 17:200===(c=e.sent).data.status?(W(!0),L("\xa1Registro exitoso! Por favor Iniciar sesi\xf3n",{appearance:"success",autoDismiss:!0}),t({type:N,payload:{email:o,customerId:""}}),B.push("/login")):L(c.data.msg,{appearance:"error",autoDismiss:!0});case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(C.a,{sx:{height:"100vh",backgroundColor:"#1a1938"},children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){B.push("/")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsx)("div",{className:"top-bar"}),Object(I.jsxs)("div",{className:"reg-item",children:[Object(I.jsx)("p",{className:"title",children:"Reg\xedstrate"}),Object(I.jsx)(R,{placeholder:"Email",type:"email",sx:{width:"90%",my:"14px",mt:"25px"},value:o,onChange:function(e){return i(e.target.value)}}),Object(I.jsx)(R,{placeholder:"Contrase\xf1a",sx:{width:"90%",marginBottom:"14px"},type:f.showPassword?"text":"password",value:f.password,onChange:(e="password",function(t){v(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},e,t.target.value)))}),label:"Password"}),Object(I.jsx)(R,{placeholder:"Confirmar Contrase\xf1a",sx:{width:"90%"},type:D.showRePassword?"text":"password",value:D.repassword,onChange:function(e){return function(t){T(Object(j.a)(Object(j.a)({},D),{},Object(b.a)({},e,t.target.value)))}}("repassword"),label:"Password"}),Object(I.jsx)(R,{placeholder:"Phone Number",type:"number",sx:{width:"90%",my:"14px"},value:A,onChange:function(e){return z(e.target.value)}}),Object(I.jsx)("div",{className:"bt-home",style:{marginTop:"50px"},children:Object(I.jsx)(x.a,{sx:{backgroundColor:"transparent",color:"#0dcaf0",p:3,width:"70%"},color:"primary",variant:"filled",onClick:M,children:"R E G I S T R A R M E"})})]})]})}var W=a(325),B=a.p+"static/media/fino.51ff789f.png",M=a(332);function F(){var e=Object(u.f)();return Object(I.jsx)(C.a,{sx:{height:"100vh",backgroundColor:"#1a1938"},children:Object(I.jsxs)(W.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",sx:{px:3,pt:10},children:[Object(I.jsx)(W.a,{item:!0,children:Object(I.jsx)("img",{src:B,alt:"logo",width:"130px"})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:2},children:Object(I.jsx)(v.a,{variant:"h4",sx:{textAlign:"center",color:"#fff"},children:"Bienvenido a Fino"})}),Object(I.jsx)(W.a,{item:!0,children:Object(I.jsx)(v.a,{variant:"subtitle1",style:{textAlign:"center",color:"#ffffff6e"},children:"Emite tus facturas y boletas de una manera f\xe1cil, r\xe1pida y segura usando t\xfa tel\xe9fono."})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:1,width:"100%"},children:Object(I.jsxs)(M.a,{orientation:"vertical","aria-label":"vertical contained button group",sx:{width:"80%"},children:[Object(I.jsx)(x.a,{sx:{backgroundColor:"transparent",color:"#0dcaf0",p:2},color:"primary",variant:"contained",onClick:function(){return e.push("/register")},children:"R E G I S T R A T E"}),Object(I.jsx)(x.a,{sx:{backgroundColor:"transparent",color:"#0dcaf0",p:2},color:"primary",variant:"contained",onClick:function(){return e.push("/login")},children:"I N G R E S A"})]})})]})})}var U=a(18),V=(a(254),a(175)),q=a.n(V),H=a(176),G=a.n(H),J=a(322),Y=a(337),X=a(315);function K(e){var t=Object(P.b)(),a=Object(n.useState)(0),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)("0"),u=Object(s.a)(i,2),d=u[0],l=u[1],p=Object(n.useState)(0),b=Object(s.a)(p,2),m=(b[0],b[1]),f=Object(n.useState)(1),x=Object(s.a)(f,2),h=x[0],O=x[1],v=Object(n.useState)(e.text),g=Object(s.a)(v,2),w=g[0],y=g[1];Object(n.useEffect)((function(){""===d&&l("0"),46===d.slice(0).charCodeAt(0)&&l((function(e){return Number(e).toFixed(2)})),o(4+1.3*d.toString().length),m(d),d.toString().includes(".")&&m((function(e){return Number(e).toFixed(2)}))}),[d]);var S=e.index;return Object(n.useEffect)((function(){return t(z({index:S,count:h,amount:d,description:w})),function(){t(z({index:0,count:1,amount:"",description:""}))}}),[d,h,t,S,w]),Object(I.jsx)("div",{children:Object(I.jsxs)(W.a,{container:!0,direction:"column",justifyContent:" space-between",alignItems:"center",spacing:1,children:[!1===e.count?Object(I.jsx)("br",{}):Object(I.jsxs)(W.a,{item:!0,children:[Object(I.jsx)(k.a,{"aria-label":"minus",sx:{mx:3},onClick:function(){O((function(e){return e>=2?e-1:e}))},children:Object(I.jsx)(q.a,{color:"primary"})}),Object(I.jsx)("span",{className:"count",children:h}),Object(I.jsx)(k.a,{"aria-label":"plus",sx:{mx:3},onClick:function(){O((function(e){return e+1}))},children:Object(I.jsx)(G.a,{color:"primary"})})]}),Object(I.jsx)(W.a,{item:!0,className:"compose",children:Object(I.jsx)(J.a,{variant:"standard",id:"filled-start-adornment",sx:{m:1,pl:0,width:c+"em",maxWidth:"100%"},InputProps:{startAdornment:Object(I.jsx)(Y.a,{position:"start",children:Object(I.jsx)("p",{className:"adorment",children:"S/"})}),disableUnderline:!0,style:{fontSize:58}},type:"number",onChange:function(e){e.preventDefault();var t=e.target.value.toString().match(/^[0-9]*(\.\d{0,2})?$/);if(t&&t[0]<=99999.99&&(l((function(a){return t?e.target.value:a})),"0"===e.target.value.slice(0,1)))if("0."===e.target.value.slice(0,2));else{var a=e.target.value.slice(1);l(a)}},value:d})}),Object(I.jsx)(W.a,{item:!0,sx:{width:"90%"},children:Object(I.jsx)(X.a,{value:w,freeSolo:!0,fullWidth:!0,disableClearable:!0,onChange:function(e,t){y(t)},InputProps:{inputProps:{style:{textAlign:"center"}}},inputValue:w,onInputChange:function(e){return y(e.target.value)},options:e.items.map((function(e){return e.toString()})),id:"controllable-states-demo",sx:{display:"inline-block","& input":{width:200,bgcolor:"background.paper",textAlign:"center",color:function(e){return e.palette.getContrastText(e.palette.background.paper)}}},renderInput:function(e){return Object(I.jsx)(J.a,Object(j.a)(Object(j.a)({},e),{},{placeholder:"Descripci\xf3n",fullWidth:!0,variant:"standard",focused:!0}))}})})]})})}var Q=a(316),Z=a(327),$=a(338),ee=a(323),te=a(116),ae=a.n(te),ne=a(86),re=(a(166),function(e,t,a){function n(e){var t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset();return new Date(a+36e5*e)}var r={contribuyente:{token_contribuyente:a.token?a.token:"SC4H9H0U2TXE1NYU4P0KRJIETM2QZ1MMYMM9X",id_usuario_vendedor:a.vendor?parseInt(a.vendor):0,tipo_proceso:a.process?a.process:"prueba",tipo_envio:"inmediato"},cliente:{tipo_docidentidad:"dni"===t.docType?1:"ruc"===t.docType?6:0,numerodocumento:t.doc,nombre:"Invited"===t.name?"Invitado":t.name,email:"",direccion:t.direction,ubigeo:"",sexo:"",fecha_nac:"",celular:""},cabecera_comprobante:{tipo_documento:"invoice"===t.type?"01":"ticket"===t.type?"03":"note"===t.type?"77":void 0,moneda:"PEN",idsucursal:a.branch?a.branch:23,id_condicionpago:"0",fecha_comprobante:"".concat(n("-5").getDate(),"/").concat(n("-5").getMonth()+1,"/").concat(n("-5").getFullYear()),nro_placa:"",nro_orden:"",guia_remision:"",descuento_monto:0,observacion:"",descuento_porcentaje:""},detalle:[]};return e.map((function(e,t){e.index===t&&(1===e.count&&"0"===e.amount||""===e.amount||r.detalle.push({idproducto:e.description+(1e3*parseInt(t)).toString(),codigo:"000",afecto_icbper:"no",id_tipoafectacionigv:!0===a.itemsIgv?30:10,descripcion:e.description,idunidadmedida:"NIU",precio_venta:e.amount,cantidad:e.count}))})),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}});function ce(){var e=Object(n.useContext)(O),t=e.setPdf,a=e.setConf,c=e.setLoginStatus,o=e.loginStatus,i=Object(n.useState)({amount:"",name:"",doc:"",direction:"",sellerId:"",customerId:"",type:"",pdfLink:["",""],docType:""}),d=Object(s.a)(i,2),m=d[0],f=d[1],x=Object(h.useToasts)().addToast,v=Object(u.f)(),g=r.a.useState(!1),y=Object(s.a)(g,2),D=y[0],T=y[1],N=Object(n.useState)(!1),E=Object(s.a)(N,2),_=E[0],z=E[1],R=Object(n.useState)({invoice:!1,ticket:!1,note:!1}),L=Object(s.a)(R,2),B=L[0],M=L[1],F=Object(n.useState)(!1),V=Object(s.a)(F,2),q=V[0],H=V[1],G=Object(P.b)(),J=Object(n.useState)(null),Y=Object(s.a)(J,2),X=Y[0],te=Y[1],ce=Object(n.useState)(null),oe=Object(s.a)(ce,2),se=oe[0],ie=oe[1],ue=Object(n.useState)(null),de=Object(s.a)(ue,2),le=de[0],pe=de[1],be=r.a.useState(!1),je=Object(s.a)(be,2),me=je[0],fe=je[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(){var a,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("auth-token"),n=localStorage.getItem("customerId"),a||n){e.next=5;break}return v.push("/"),e.abrupt("return");case 5:return e.next=7,w.a.get("/users/",{headers:{"x-auth-token":a}});case 7:return r=e.sent,c({token:a,email:r.data.email,customerId:n}),t(["",""]),o={},e.next=13,w.a.get;case 13:return e.next=15,w.a.get("/customers/get/"+n).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.name=t.data[0].name,o.doc=t.data[0].doc,o.customerId=t.data[0]._id,o.direction=t.data[0].direction,o.sellerId=t.data[0].sellerId,o.pdfLink=["",""],o.docType=t.data[0].docType,"dni"===t.data[0].docType&&z(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:return e.next=17,w.a.get("/users/getId/"+r.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(t.data.showCant),pe(t.data.defaultText),fe(t.data.showMultiItems),ie(t.data.items),M(Object(j.a)(Object(j.a)({},B),{},{invoice:t.data.docType[0],ticket:t.data.docType[1],note:t.data.docType[2]})),o.type="",!t.data.docType[0]||t.data.docType[1]||t.data.docType[2]||(o.type="invoice",M(Object(j.a)(Object(j.a)({},B),{},{invoice:!1}))),t.data.docType[0]||!t.data.docType[1]||t.data.docType[2]||(o.type="ticket",M(Object(j.a)(Object(j.a)({},B),{},{ticket:!1}))),t.data.docType[0]||t.data.docType[1]||!t.data.docType[2]||(o.type="note",M(Object(j.a)(Object(j.a)({},B),{},{note:!1}))),t.data.docType[0]&&t.data.docType[1]&&!t.data.docType[2]&&(H(!0),8===o.doc.length&&(o.type="ticket")),t.data.docType[0]&&!t.data.docType[1]&&t.data.docType[2]&&(H(!0),8===o.doc.length&&(o.type="note")),f(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var xe=Object(n.useState)(2),he=Object(s.a)(xe,2),Oe=he[0],ve=he[1],ge=Object(P.c)((function(e){return e.slide})),we=Object(n.useState)([]),ke=Object(s.a)(we,2),ye=ke[0],Se=ke[1],Ce=[],Ie=function(){for(var e=function(e){Ce.push(ye.filter((function(t){return t.index===e})).pop())},t=0;t<Oe-1;t++)e(t)},De=Object(n.useState)(0),Te=Object(s.a)(De,2),Pe=Te[0],Ne=Te[1];Object(n.useEffect)((function(){Se((function(e){return[].concat(Object(U.a)(e),[ge])}))}),[ge]),Object(n.useEffect)((function(){Ie(),function(){for(var e=0,t=0;t<Ce.length;t++)void 0===Ce[t]||(e+=Ce[t].count*Number(Ce[t].amount));Ne(e.toFixed(2))}()}),[ye]),Object(n.useEffect)((function(){f(Object(j.a)(Object(j.a)({},m),{},{amount:Pe.toString()}))}),[Pe]);var Ee=function(){var e=Object(p.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.a.get("/users/get/"+m.sellerId).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.active_status){e.next=6;break}return x("Tu suscripci\xf3n a sido expirado. Cont\xe1ctate con el Administrador",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),localStorage.removeItem("auth-token"),localStorage.removeItem("customerId"),v.push("/login"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.amount){e.next=4;break}return x("Por Favor Ingrese el Monto",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),e.abrupt("return");case 4:if(Ie(),void 0!==Ce[0]){e.next=8;break}return x("Por favor Ingrese la Descripci\xf3n",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),e.abrupt("return");case 8:a=0;case 9:if(!(a<Ce.length)){e.next=26;break}if(void 0!==Ce[a]){e.next=14;break}Ce.splice(a,1),e.next=23;break;case 14:if(1!==Ce[a].count||"0"!==Ce[a].amount){e.next=17;break}e.next=23;break;case 17:if(""!==Ce[a].description){e.next=20;break}return x("Por favor Ingrese la Descripci\xf3n",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"}),e.abrupt("return");case 20:if("0"!==Ce[a].amount){e.next=23;break}return x("Por Favor Ingrese el Monto",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"}),e.abrupt("return");case 23:a++,e.next=9;break;case 26:if(m.type){e.next=29;break}return x("Seleccione el tipo de documento",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"}),e.abrupt("return");case 29:T(!0),t(["",""]),w.a.get("/users/get/"+m.sellerId).then((function(e){_e(re(Ce,m,e.data),m.type)}));case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _e(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(p.a)(l.a.mark((function e(n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("note"===r?"https://facturavirtual.pe/facturacion/api/procesar_nota_venta":"https://facturavirtual.pe/facturacion/api/procesar_venta",n).then((function(e){return e.json()})).then((function(e){var t="note"===r?"https://facturavirtual.pe/sys_fe/download/verpdf/".concat(e.documento.id_contribuyente,"/").concat(e.documento.id_tipodoc_electronico,"/").concat(e.documento.serie_comprobante,"/").concat(e.documento.numero_comprobante,"/pdf/ticket/cpe.pdf"):"https://facturavirtual.pe/sys_fe/download/downloadpdf/".concat(e.documento.id_contribuyente,"/").concat(e.documento.id_tipodoc_electronico,"/").concat(e.documento.serie_comprobante,"/").concat(e.documento.numero_comprobante,"/pdf/ticket/cpe.pdf"),a=e.url_absoluta_a4,n=Object(j.a)(Object(j.a)({},m),{},{pdfLink:[t,a]});return f(Object(j.a)(Object(j.a)({},m),{},{pdfLink:[t,a]})),n})).then(function(){var e=Object(p.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.a.post("/trans/create",r).then(function(){var e=Object(p.a)(l.a.mark((function e(c){var s,i,u,d,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===c.data.status&&(t(r.pdfLink),s=JSON.parse(n.body).detalle,i=[],s.map(function(){var e=Object(p.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push(t.descripcion);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),w.a.post("users/items/add",{email:o.email,item:i}),a(!0),localStorage.removeItem("customerId"),u=new Date,d=u,b={name:r.name,date:d},G(A(b)),v.push({pathname:"/confirm/"+m.amount}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),x("La propiedad contribuyente->id_usuario_vendedor tiene un valor inv\xe1lido",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),T(!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return function(){Ne(0),Ce.fill(null),Se(null),ve(2),z(!1)}}),[]);var ze=new Array(!0===me?Oe:1).fill(null).map((function(e,t){return Object(I.jsx)(ne.b,{children:function(e){var a=e.isActive;return Object(I.jsx)(K,{index:t,items:se,count:X,text:le,active:!!a})}},t)}));return Object(I.jsx)(C.a,{sx:{flexGrow:1,width:"100%",height:"100vh",backgroundColor:"white"},children:Object(I.jsxs)(W.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"center",children:[Object(I.jsxs)(W.a,{item:!0,container:!0,direction:"row",sx:{mt:5},justifyContent:"center",alignItems:"center",children:[Object(I.jsx)("p",{className:"name",children:m.name}),Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){v.push("/customer")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})})]}),Object(I.jsx)(W.a,{item:!0,children:Object(I.jsx)("p",{className:"doc",children:m.doc})}),Object(I.jsx)(W.a,{sx:{width:"100%",pt:2},item:!0,children:Object(I.jsx)(ne.a,{spaceBetween:0,slidesPerView:1,onReachEnd:function(){ve((function(e){return e+1}))},children:m.name?ze:Object(I.jsx)("br",{})})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:2},children:Object(I.jsxs)(Z.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",sx:{pl:2},children:[!_&&B.invoice&&Object(I.jsx)($.a,{name:"type",value:"invoice",control:Object(I.jsx)(Q.a,{size:"small"}),label:"Factura",onChange:function(e){return f(Object(j.a)(Object(j.a)({},m),{},Object(b.a)({},e.target.name,e.target.value)))}}),B.ticket&&(!q||!_)&&Object(I.jsx)($.a,{name:"type",value:"ticket",control:Object(I.jsx)(Q.a,{size:"small"}),label:"Boleta",onChange:function(e){return f(Object(j.a)(Object(j.a)({},m),{},Object(b.a)({},e.target.name,e.target.value)))}}),B.note&&(!q||!_)&&Object(I.jsx)($.a,{name:"type",value:"note",control:Object(I.jsx)(Q.a,{size:"small"}),label:"Nota",onChange:function(e){return f(Object(j.a)(Object(j.a)({},m),{},Object(b.a)({},e.target.name,e.target.value)))}})]})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:2},children:Object(I.jsxs)("p",{className:"total",children:["Total S/\xa0",Pe]})}),Object(I.jsx)(W.a,{item:!0,sx:{pt:2,width:"60%"},children:Object(I.jsx)(ee.a,{onClick:Ee,endIcon:Object(I.jsx)(ae.a,{}),loading:D,loadingPosition:"end",fullWidth:!0,variant:"contained",children:""!==m.type?"invoice"===m.type?"Factura":"ticket"===m.type?"Boleta":"Nota":"ENVIAR"})})]})})}var oe=a(339),se=a(342),ie=a(340),ue=a(341),de=a(311);a(255);function le(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(h.useToasts)().addToast,i=Object(u.f)();Object(n.useEffect)((function(){return w.a.get("/users/all").then((function(e){for(var t=[],a=0;a<e.data.length;a++){var n;n={id:e.data[a].id,name:e.data[a].name,ruc:e.data[a].ruc,branch:e.data[a].branch,vendor:e.data[a].vendor,process:e.data[a].process,credit:e.data[a].credit,paid:e.data[a].paid,token:e.data[a].token,email:e.data[a].email,active_status:e.data[a].active_status},t.push(n)}c(t)})),function(){c([])}}),[i]);var d=r.a.useState(""),l=Object(s.a)(d,2),p=l[0],b=l[1],j=function(){b("")};return Object(I.jsxs)("div",{className:"admin",children:[Object(I.jsx)("div",{children:Object(I.jsx)(k.a,{onClick:function(){i.push("/")},children:Object(I.jsx)("i",{className:"fas fa-sign-out-alt fa-rotate-180"})})}),Object(I.jsx)("i",{className:"fas fa-user-plus",onClick:function(){i.push("/admin/new")}}),Object(I.jsxs)("table",{className:"table table-hover",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"No"}),Object(I.jsx)("th",{children:"Ruc"}),Object(I.jsx)("th",{children:"Action"})]})}),Object(I.jsx)("tbody",{children:a.map((function(e,t){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t+1}),Object(I.jsx)("td",{children:e.ruc}),Object(I.jsxs)("td",{children:[Object(I.jsx)(k.a,{size:"small",onClick:function(){return t=e.id,void i.push({pathname:"/admin/edit/"+t});var t},children:Object(I.jsx)("i",{className:"fas fa-pen"})}),Object(I.jsx)(k.a,{size:"small",onClick:function(){return t=e.id,void b(t);var t},children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})}),e.active_status?Object(I.jsx)(k.a,{size:"small",onClick:function(){return t=e.id,void w.a.get("/users/deactive/"+t).then((function(e){for(var t=[],a=0;a<e.data.length;a++){var n;n={id:e.data[a].id,name:e.data[a].name,ruc:e.data[a].ruc,branch:e.data[a].branch,vendor:e.data[a].vendor,process:e.data[a].process,credit:e.data[a].credit,paid:e.data[a].paid,token:e.data[a].token,email:e.data[a].email,active_status:e.data[a].active_status},t.push(n)}c(t),o("Success, Deactivation",{appearance:"success",autoDismiss:!0})}));var t},children:Object(I.jsx)("i",{className:"fas fa-lock"})}):Object(I.jsx)(k.a,{size:"small",onClick:function(){return t=e.id,void w.a.get("/users/active/"+t).then((function(e){for(var t=[],a=0;a<e.data.length;a++){var n;n={id:e.data[a].id,name:e.data[a].name,ruc:e.data[a].ruc,branch:e.data[a].branch,vendor:e.data[a].vendor,process:e.data[a].process,credit:e.data[a].credit,paid:e.data[a].paid,token:e.data[a].token,email:e.data[a].email,active_status:e.data[a].active_status},t.push(n)}c(t),o("Success, Activation",{appearance:"success",autoDismiss:!0})}));var t},children:Object(I.jsx)("i",{className:"fas fa-lock-open"})})]})]},t)}))})]}),Object(I.jsxs)(oe.a,{open:!!p,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(de.a,{id:"alert-dialog-title",children:"Caution"}),Object(I.jsx)(ie.a,{children:Object(I.jsx)(ue.a,{id:"alert-dialog-description",children:"All data will be deleted."})}),Object(I.jsxs)(se.a,{children:[Object(I.jsx)(x.a,{onClick:j,children:"Cancel"}),Object(I.jsx)(x.a,{onClick:function(){return function(e){var t=a;w.a.delete("/users/delete/"+e).then((function(e){if("success"===e.data.msg){for(var a=e.data.del_id,n=Object.keys(t).length,r=[],s=0;s<n;s++){var i=[];a!==t[s].id&&(i={id:t[s].id,name:t[s].name,ruc:t[s].ruc,branch:t[s].branch,vendor:t[s].vendor,process:t[s].process,credit:t[s].credit,paid:t[s].paid,token:t[s].token,email:t[s].email,active_status:t[s].active_status},r.push(i))}c(r),o("Deleted Successfully",{appearance:"success",autoDismiss:!0})}else o("Sorry, Operation is failure",{appearance:"error",autoDismiss:!0})})),j()}(p)},autoFocus:!0,children:"Okay"})]})]})]})}var pe=a(334),be=a(324),je=a(333),me=a(317),fe=a(318);function xe(){var e=Object(u.g)().id,t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),i=Object(s.a)(o,2),d=i[0],m=i[1],f=Object(n.useState)(""),O=Object(s.a)(f,2),v=O[0],g=O[1],y=Object(n.useState)(""),D=Object(s.a)(y,2),T=D[0],P=D[1],N=Object(n.useState)(""),E=Object(s.a)(N,2),_=E[0],A=E[1],z=Object(n.useState)(""),R=Object(s.a)(z,2),L=R[0],W=R[1],B=Object(n.useState)(""),M=Object(s.a)(B,2),F=M[0],U=M[1],V=Object(n.useState)(""),q=Object(s.a)(V,2),H=q[0],G=q[1],Y=Object(n.useState)(""),X=Object(s.a)(Y,2),K=X[0],Q=X[1],Z=Object(n.useState)(""),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)({invoice:!1,ticket:!1,note:!1}),re=Object(s.a)(ne,2),ce=re[0],oe=re[1],se=function(e){oe(Object(j.a)(Object(j.a)({},ce),{},Object(b.a)({},e.target.name,e.target.checked)))},ie=Object(h.useToasts)().addToast,ue=Object(u.f)(),de=function(){var t=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return ie("Please Enter Name",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 3:if(v){t.next=6;break}return ie("Please Enter Ruc",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 6:if(d){t.next=9;break}return ie("Please Enter Phone Number",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 9:if(T){t.next=12;break}return ie("Please Enter Id Sucursal",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 12:if(_){t.next=15;break}return ie("Please Enter Token",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 15:if(L){t.next=18;break}return ie("Please Enter Email",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 18:if(H){t.next=21;break}return ie("Please Enter Id Vendor",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 21:if(K){t.next=24;break}return ie("Please Enter Tipo Proceso",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 24:if(F){t.next=27;break}return ie("Please Enter Credit",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 27:if(te){t.next=30;break}return ie("Please Enter Paid",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 30:if(ce.invoice||ce.ticket||ce.note){t.next=33;break}return ie("Please Check Doc Types",{appearance:"error",autoDismiss:!0}),t.abrupt("return");case 33:return a={id:e,name:r,ruc:v,branch:T,token:_,email:L,vendor:H,process:K,credit:F,paid:te,docType:ce,phoneNumber:d},t.next=36,w.a.put("/users/update",a);case 36:200===(n=t.sent).status?ue.push("/admin"):ie(n.data.msg,{appearance:"error",autoDismiss:!0});case 38:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){w.a.get("/users/get/"+e).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.data.name),m(t.data.phoneNumber),g(t.data.ruc),P(t.data.branch),A(t.data.token),U(t.data.credit),G(t.data.vendor),Q(t.data.process?t.data.process:"prueba"),ae(t.data.paid),W(t.data.email),oe(Object(j.a)(Object(j.a)({},ce),{},{invoice:t.data.docType[0],ticket:t.data.docType[1],note:t.data.docType[2]}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(I.jsxs)(C.a,{component:"form",sx:{display:"flex",flexWrap:"wrap",p:3},noValidate:!0,autoComplete:"on",children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){ue.push("/admin")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(pe.a,{sx:{my:1,color:"#1976d2",fontWeight:"600"},children:"Edit User"}),Object(I.jsx)(J.a,{required:!0,autoComplete:"email",variant:"standard",label:"Name",focused:!0,size:"small",fullWidth:!0,sx:{mb:1},value:r,onChange:function(e){return c(e.target.value)}}),Object(I.jsx)(J.a,{required:!0,type:"number",variant:"standard",label:"Phone Number",focused:!0,size:"small",fullWidth:!0,sx:{mb:1},value:d,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(J.a,{label:"Ruc",type:"number",variant:"standard",size:"small",sx:{mr:1,my:1,width:"60%"},value:v,onChange:function(e){return g(e.target.value)},focused:!0}),Object(I.jsx)(J.a,{label:"Id Sucursal",variant:"standard",type:"number",size:"small",sx:{ml:1,my:1,width:"35%"},value:T,onChange:function(e){return P(e.target.value)},focused:!0}),Object(I.jsx)(J.a,{label:"Token",size:"small",variant:"standard",focused:!0,fullWidth:!0,sx:{my:1},value:_,onChange:function(e){return A(e.target.value)}}),Object(I.jsx)(J.a,{required:!0,label:"Email",size:"small",variant:"standard",fullWidth:!0,sx:{my:1},focused:!0,value:L,onChange:function(e){return W(e.target.value)}}),Object(I.jsx)(J.a,{label:"Id Vendor",type:"number",variant:"standard",size:"small",sx:{my:1,mr:1,width:"40%"},focused:!0,value:H,onChange:function(e){return G(e.target.value)}}),Object(I.jsxs)(je.a,{sx:{my:1,ml:1,width:"55%"},size:"small",focused:!0,variant:"standard",children:[Object(I.jsx)(pe.a,{children:"Tipo Proceso"}),Object(I.jsxs)(me.a,{value:K,onChange:function(e){return Q(e.target.value)},label:"process",children:[Object(I.jsx)(be.a,{value:"prueba",children:"Prueba"}),Object(I.jsx)(be.a,{value:"produccion",children:"Produccion"})]})]}),Object(I.jsx)(J.a,{label:"Id Credit",type:"number",variant:"standard",sx:{my:1,mr:2,width:"45%"},size:"small",focused:!0,value:F,onChange:function(e){return U(e.target.value)}}),Object(I.jsx)(J.a,{label:"Id Paid",type:"number",variant:"standard",sx:{my:1,ml:2,width:"45%"},size:"small",focused:!0,value:te,onChange:function(e){return ae(e.target.value)}}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ce.invoice,onChange:se,name:"invoice",size:"small"}),label:"Invoice"}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ce.ticket,onChange:se,name:"ticket",size:"small"}),label:"Ticket"}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ce.note,onChange:se,name:"note",size:"small"}),label:"Note"}),Object(I.jsx)(x.a,{onClick:de,variant:"contained",sx:{my:2,width:"65%"},children:"Save"})]})]})}var he=a(144),Oe=a.n(he),ve=a(143),ge=a.n(ve),we=a(305);function ke(){var e,t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(null),d=Object(s.a)(i,2),m=d[0],f=d[1],O=Object(n.useState)(""),v=Object(s.a)(O,2),g=v[0],y=v[1],D=Object(n.useState)(""),T=Object(s.a)(D,2),P=T[0],N=T[1],E=Object(n.useState)(""),_=Object(s.a)(E,2),A=_[0],z=_[1],R=Object(n.useState)(""),L=Object(s.a)(R,2),W=L[0],B=L[1],M=Object(n.useState)(""),F=Object(s.a)(M,2),U=F[0],V=F[1],q=Object(n.useState)(""),H=Object(s.a)(q,2),G=H[0],X=H[1],K=Object(n.useState)("prueba"),Q=Object(s.a)(K,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=r.a.useState({password:"",showPassword:!1}),oe=Object(s.a)(ce,2),se=oe[0],ie=oe[1],ue=r.a.useState({repassword:"",showRePassword:!1}),de=Object(s.a)(ue,2),le=de[0],xe=de[1],he=Object(n.useState)({invoice:!0,ticket:!0,note:!0}),ve=Object(s.a)(he,2),ke=ve[0],ye=ve[1],Se=function(e){ye(Object(j.a)(Object(j.a)({},ke),{},Object(b.a)({},e.target.name,e.target.checked)))},Ce=Object(h.useToasts)().addToast,Ie=Object(u.f)(),De=function(e){e.preventDefault()},Te=function(){var e=Object(p.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=se.password,a=le.repassword,c){e.next=5;break}return Ce("Please Enter Name",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 5:if(g){e.next=8;break}return Ce("Please Enter Ruc",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 8:if(m){e.next=11;break}return Ce("Please Enter Phone Number",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 11:if(P){e.next=14;break}return Ce("Please Enter Id Sucursal",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 14:if(A){e.next=17;break}return Ce("Please Enter Token",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 17:if(W){e.next=20;break}return Ce("Please Enter Email",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 20:if(G){e.next=23;break}return Ce("Please Enter Id Vendor",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 23:if(Z){e.next=26;break}return Ce("Please Enter Tipo Proceso",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 26:if(U){e.next=29;break}return Ce("Please Enter Credit",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 29:if(ne){e.next=32;break}return Ce("Please Enter Paid",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 32:if(t===a){e.next=35;break}return Ce("Please Confirm Password",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 35:if(ke.invoice||ke.ticket||ke.note){e.next=38;break}return Ce("Please Check Doc Types",{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 38:return n={name:c,ruc:g,branch:P,token:A,email:W,vendor:G,process:Z,credit:U,paid:ne,password:t,docType:ke,phoneNumber:m},e.next=41,w.a.post("/users/register",n);case 41:200===(r=e.sent).data.status?Ie.push("/admin"):Ce(r.data.msg,{appearance:"error",autoDismiss:!0});case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(C.a,{component:"form",sx:{display:"flex",flexWrap:"wrap",p:3},noValidate:!0,autoComplete:"on",children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){Ie.push("/admin")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(pe.a,{sx:{my:1,color:"#1976d2",fontWeight:"600"},children:"New User"}),Object(I.jsx)(J.a,{required:!0,autoComplete:"email",variant:"standard",label:"Name",focused:!0,size:"small",fullWidth:!0,sx:{mb:1},value:c,onChange:function(e){return o(e.target.value)}}),Object(I.jsx)(J.a,{required:!0,variant:"standard",type:"number",label:"Phone Number",focused:!0,size:"small",fullWidth:!0,sx:{mb:1},value:m,onChange:function(e){return f(e.target.value)}}),Object(I.jsx)(J.a,{label:"Ruc",type:"number",variant:"standard",size:"small",sx:{mr:1,my:1,width:"60%"},value:g,onChange:function(e){return y(e.target.value)},focused:!0}),Object(I.jsx)(J.a,{label:"Id Sucursal",variant:"standard",type:"number",size:"small",sx:{ml:1,my:1,width:"35%"},value:P,onChange:function(e){return N(e.target.value)},focused:!0}),Object(I.jsx)(J.a,{label:"Token",size:"small",variant:"standard",focused:!0,fullWidth:!0,sx:{my:1},value:A,onChange:function(e){return z(e.target.value)}}),Object(I.jsx)(J.a,{required:!0,label:"Email",size:"small",variant:"standard",fullWidth:!0,sx:{my:1},focused:!0,value:W,onChange:function(e){return B(e.target.value)}}),Object(I.jsx)(J.a,{label:"Id Vendor",type:"number",variant:"standard",size:"small",sx:{my:1,mr:1,width:"40%"},focused:!0,value:G,onChange:function(e){return X(e.target.value)}}),Object(I.jsxs)(je.a,{sx:{my:1,ml:1,width:"55%"},size:"small",focused:!0,variant:"standard",children:[Object(I.jsx)(pe.a,{children:"Tipo Proceso"}),Object(I.jsxs)(me.a,{value:Z,onChange:function(e){return ee(e.target.value)},label:"Age",children:[Object(I.jsx)(be.a,{value:"prueba",children:"Prueba"}),Object(I.jsx)(be.a,{value:"produccion",children:"Produccion"})]})]}),Object(I.jsxs)(je.a,{sx:{my:1},fullWidth:!0,variant:"standard",size:"small",focused:!0,required:!0,children:[Object(I.jsx)(pe.a,{children:"Password"}),Object(I.jsx)(we.a,{type:se.showPassword?"text":"password",value:se.password,onChange:(e="password",function(t){ie(Object(j.a)(Object(j.a)({},se),{},Object(b.a)({},e,t.target.value)))}),endAdornment:Object(I.jsx)(Y.a,{position:"end",children:Object(I.jsx)(k.a,{"aria-label":"toggle password visibility",onClick:function(){ie(Object(j.a)(Object(j.a)({},se),{},{showPassword:!se.showPassword}))},onMouseDown:De,edge:"end",children:se.showPassword?Object(I.jsx)(ge.a,{color:"info"}):Object(I.jsx)(Oe.a,{color:"info"})})})})]}),Object(I.jsxs)(je.a,{sx:{my:1},fullWidth:!0,variant:"standard",size:"small",focused:!0,children:[Object(I.jsx)(pe.a,{children:"Confirm Password"}),Object(I.jsx)(we.a,{type:le.showRePassword?"text":"password",value:le.repassword,onChange:function(e){return function(t){xe(Object(j.a)(Object(j.a)({},le),{},Object(b.a)({},e,t.target.value)))}}("repassword"),endAdornment:Object(I.jsx)(Y.a,{position:"end",children:Object(I.jsx)(k.a,{"aria-label":"toggle password visibility",onClick:function(){xe(Object(j.a)(Object(j.a)({},le),{},{showRePassword:!le.showRePassword}))},onMouseDown:De,edge:"end",color:"info",children:le.showRePassword?Object(I.jsx)(ge.a,{color:"info"}):Object(I.jsx)(Oe.a,{color:"info"})})}),label:"Password"})]}),Object(I.jsx)(J.a,{label:"Id Credit",type:"number",variant:"standard",sx:{my:1,mr:2,width:"45%"},size:"small",focused:!0,value:U,onChange:function(e){return V(e.target.value)}}),Object(I.jsx)(J.a,{label:"Id Paid",type:"number",variant:"standard",sx:{my:1,ml:2,width:"45%"},size:"small",focused:!0,value:ne,onChange:function(e){return re(e.target.value)}}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ke.invoice,onChange:Se,name:"invoice",size:"small"}),label:"Invoice"}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ke.ticket,onChange:Se,name:"ticket",size:"small"}),label:"Ticket"}),Object(I.jsx)($.a,{control:Object(I.jsx)(fe.a,{checked:ke.note,onChange:Se,name:"note",size:"small"}),label:"Note"}),Object(I.jsx)(x.a,{onClick:Te,variant:"contained",sx:{my:2,width:"65%"},children:"Save"})]})]})}a(256);var ye=a(119),Se=a.n(ye);a(168);function Ce(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],o=a[1],i=r.a.useState(!1),d=Object(s.a)(i,2),b=d[0],j=d[1],f=Object(P.c)((function(e){return e.data})),h=e.match.params.id,v=Object(u.f)(),g=Object(n.useContext)(O),y=g.pdf,S=g.conf,C=Object(n.useState)({name:"",date:""}),D=Object(s.a)(C,2),T=D[0],N=D[1];Object(n.useEffect)((function(){if(function(){var e=Object(p.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("auth-token"))){e.next=4;break}e.next=8;break;case 4:return e.next=6,w.a.get("/users/",{headers:{"x-auth-token":t}});case 6:a=e.sent,w.a.get("/users/getId/"+a.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t.data.formatShareA4),j(t.data.formatPrintA4),t.data.quickPrint&&(t.data.formatPrintA4?window.open(y[1]):E());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),void 0===navigator.share&&"http:"===window.location.protocol&&window.location.replace(window.location.href.replace(/^http:/,"https:")),""!==y.toString())return N(f),function(){N({name:"",doc:""})};v.push("/translist")}),[]);var E=function(){if(b)window.open(y[1]);else{var e="https://api.allorigins.win/raw?url=".concat(encodeURIComponent(y[0]));_(e)}},_=function(e){return"component=ru.a402d.rawbtprinter.activity.PrintDownloadActivity;","package=ru.a402d.rawbtprinter;end;",document.location="intent:"+encodeURI(y[0])+"#Intent;component=ru.a402d.rawbtprinter.activity.PrintDownloadActivity;package=ru.a402d.rawbtprinter;end;",!1},A=function(){var e=Object(p.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.allorigins.win/raw?url=".concat(!0===c?encodeURIComponent(y[1]):encodeURIComponent(y[0])),e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:if(a=e.sent,n=new File([a],"".concat(T.name?T.name:"Invitado",".pdf"),{type:a.type}),!navigator.share){e.next=10;break}return e.next=8,navigator.share({title:"Share",text:"Hello sir.",url:window.location.href,files:[n]}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error in sharing",e)}));case 8:e.next=11;break;case 10:window.alert("system does not support sharing files.");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=Object(m.a)("img")({display:"block",width:"55%",maxWidth:"200px",height:"50%"});return Object(I.jsxs)("div",{className:"confirm",children:[Object(I.jsxs)(W.a,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",children:[Object(I.jsx)(z,{src:"/check.gif",alt:"CheckImage",sx:{my:"auto"}}),Object(I.jsx)("p",{className:"username",children:"Invited"===T.name?"Invitado":T.name}),Object(I.jsxs)("p",{className:"p-amount",children:[Object(I.jsx)("sup",{children:Object(I.jsx)("sub",{children:"S/"})}),h]}),Object(I.jsx)(Se.a,{locale:"es-us",format:"DD MMMM  - hh:mm a",children:T.date})]}),Object(I.jsxs)(W.a,{container:!0,justifyContent:"space-between",alignItems:"center",direction:"row",sx:{padding:"50px 40px"},children:[Object(I.jsx)(k.a,{"aria-label":"home",onClick:function(){v.push("/translist")},children:Object(I.jsx)("i",{className:"fas fa-home"})}),Object(I.jsx)(k.a,{"aria-label":"share",onClick:A,children:Object(I.jsx)("i",{className:"fas fa-share-alt"})}),Object(I.jsx)(k.a,{"aria-label":"print",onClick:E,children:Object(I.jsx)("i",{className:"fas fa-print"})})]}),Object(I.jsx)(x.a,{onClick:function(){S?v.push("/customer"):v.push("/".concat(T.name?"invoice":"invite"))},sx:{mt:4},variant:"contained",children:"ENVIAR OTRO"})]})}var Ie=a(83),De=a.n(Ie),Te=a(335),Pe=a(344),Ne=a(348),Ee=a(347),_e=a(343),Ae=a(345),ze=a(346),Re=a(185),Le=a(177),We=a.n(Le),Be=a(312),Me=a(145),Fe=a.n(Me),Ue=(a(258),a(25)),Ve=(a(136),r.a.forwardRef((function(e,t){return Object(I.jsx)(Be.a,Object(j.a)({direction:"up",ref:t},e))}))),qe=Object(m.a)(Te.a)((function(e){var t=e.theme;return{position:"relative",backgroundColor:"#fcfeffd6",padding:t.spacing(1),textAlign:"left",color:t.palette.text.secondary}})),He=Object(m.a)("img")({display:"block",width:"30px",heigth:"30px"});function Ge(){var e=Object(P.b)(),t=Object(u.f)(),a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1],d=Object(n.useContext)(O),b=d.loginStatus,m=d.setLoginStatus,f=d.setConf,v=d.setPdf,g=Object(n.useState)([]),y=Object(s.a)(g,2),S=y[0],C=y[1],D=Object(n.useState)(0),T=Object(s.a)(D,2),N=T[0],E=T[1],_=r.a.useState(!1),z=Object(s.a)(_,2),R=z[0],L=z[1],M=r.a.useState(!1),F=Object(s.a)(M,2),V=F[0],q=F[1],H=r.a.useState(!1),G=Object(s.a)(H,2),J=G[0],Y=G[1],X=Object(h.useToasts)().addToast;Object(n.useEffect)((function(){return function(){var e=Object(p.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("auth-token"))){e.next=4;break}e.next=10;break;case 4:return e.next=6,w.a.get("/users/",{headers:{"x-auth-token":t}});case 6:a=e.sent,m({token:t,email:a.data.email,customerId:""}),w.a.get("/users/getId/"+a.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t.data),Y(t.data.directSale),t.data.name||L(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w.a.get("/trans/all/"+a.data.id).then(function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new Date,n=a.toLocaleDateString("en-US",{hour12:!1}),r=0,c=0;c<t.data.length;c++)o=new Date(t.data[c].date).toLocaleDateString("en-US",{hour12:!1}),n===o&&!1===t.data[c].cancelled&&(r+=t.data[c].amount);E(r),i(t.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){E(0),i([]),C([])}}),[]);var K=function(){ne(),S.name?q(!0):L(!0)},Q=function(){q(!1),L(!1)},Z=r.a.useState(null),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Boolean(ee),ne=function(){te(null)},re=Object(n.useState)(!1),ce=Object(s.a)(re,2),le=ce[0],pe=ce[1],je=o.length,me=function(){var e=Object(p.a)(l.a.mark((function e(t,a){var n,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pdfLink[0],r=n.split("/"),c={contribuyente:{token_contribuyente:S.token,id_usuario_vendedor:parseInt(S.vendor),tipo_proceso:S.process},cabecera_comprobante:{tipo_documento:r[7].toString(),serie_comprobante:r[8],numero_comprobante:parseInt(r[9]),motivo_anulacion:"Error en documento"}},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},"https://facturavirtual.pe/facturacion/api/comunicacion_baja",e.prev=5,e.next=8,fetch("https://facturavirtual.pe/facturacion/api/comunicacion_baja",s).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(p.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ok"!==n.respuesta){e.next=5;break}return e.next=3,w.a.put("/trans/cancel/",{id:t.id}).then(function(){var e=Object(p.a)(l.a.mark((function e(n){var r,c,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(U.a)(o),(c=Object(j.a)({},r[a])).cancelled=!0,r[a]=c,i(r),s=(new Date).toLocaleDateString("en-US",{hour12:!1}),u=new Date(n.data.createdAt).toLocaleDateString("en-US",{hour12:!1}),s===u&&E((function(e){return e-t.amount}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:X(n.mensaje,{appearance:"warning",autoDismiss:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),X("id_usuario_proveedor no es v\xe1lido, vincule al administrador",{appearance:"warning",autoDismiss:!0});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(e,t){return!1===e.cancelled?Object(I.jsx)(Ue.TrailingActions,{sx:{overflow:"hidden"},children:Object(I.jsx)(Ue.SwipeAction,{destructive:!1,onClick:function(){return me(e,t)},children:Object(I.jsx)(x.a,{variant:"text",startIcon:Object(I.jsx)(De.a,{size:"large"})})})}):Object(I.jsx)(I.Fragment,{})};return Object(I.jsxs)(W.a,{sx:{height:"100vh",color:"white"},container:!0,direction:"column",justifyContent:"flex-start",children:[Object(I.jsxs)(W.a,{item:!0,className:"header",container:!0,spacing:2,dirction:"row",justifyContent:"space-between",sx:{backgroundColor:"#1a1938",p:2},children:[Object(I.jsx)(W.a,{item:!0,xs:2,justifyContent:"space-between",container:!0,children:Object(I.jsx)(He,{src:B,alt:"logo",sx:{my:"auto"}})}),Object(I.jsxs)(W.a,{item:!0,xs:8,children:[Object(I.jsx)(W.a,{children:S.name?S.name:Object(I.jsx)(x.a,{variant:"filled",onClick:K,children:"BIENVENIDO A FINO"})}),Object(I.jsx)(W.a,{children:S.ruc?"RUC: ".concat(S.ruc):"VERSION PRUEBA"})]}),Object(I.jsxs)(W.a,{item:!0,xs:2,justifyContent:"flex-end",container:!0,children:[Object(I.jsx)(k.a,{id:"basic-button","aria-controls":ae?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":ae?"true":void 0,onClick:function(e){te(e.currentTarget)},sx:{color:"white"},children:Object(I.jsx)(We.a,{sx:{color:"white"}})}),Object(I.jsxs)(Re.a,{id:"basic-menu",anchorEl:ee,open:ae,onClose:ne,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(I.jsx)(be.a,{onClick:function(){t.push("/profile")},children:"Perfil"}),Object(I.jsx)(be.a,{onClick:K,children:"Soporte"}),Object(I.jsx)(be.a,{onClick:function(){m({token:void 0,email:void 0,customerId:""}),localStorage.removeItem("auth-token"),localStorage.removeItem("customerId"),t.push("/")},children:"Salir"})]})]}),Object(I.jsx)(W.a,{item:!0,xs:12,children:Object(I.jsxs)(qe,{children:[Object(I.jsx)("span",{children:"Ventas Hoy"}),Object(I.jsxs)("span",{style:{position:"absolute",right:"10px"},children:["S/\xa0",Object(I.jsx)("span",{children:N.toFixed(2)})]})]})})]}),Object(I.jsx)(W.a,{item:!0,className:"body",children:Object(I.jsx)(Te.a,{sx:{overflow:"hidden",width:"100%"},children:Object(I.jsx)(_e.a,{sx:{maxHeight:"calc(100vh - 220px)"},children:Object(I.jsxs)(Pe.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(I.jsx)(Ae.a,{children:Object(I.jsx)(ze.a,{children:Object(I.jsx)(Ee.a,{children:Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(I.jsx)("span",{children:"\xdaltimos Movimientos"}),Object(I.jsx)(x.a,{variant:"text",color:"info",onClick:function(){pe((function(e){return!e}))},sx:{fontSize:"13px",p:0,ml:10},children:"Ver Todos"})]})})})}),Object(I.jsx)(Ne.a,{children:Object(I.jsx)(Ue.SwipeableList,{sx:{p:0,m:0},type:Ue.Type.IOS,children:o.map((function(a,n){return Object(I.jsx)(Ue.SwipeableListItem,{blockSwipe:a.cancelled,trailingActions:fe(a,n),children:Object(I.jsxs)(Ee.a,{onClick:function(){return n=a.amount,r=a.customerId,c=a.pdfLink,o=a.name,s=a.date,void(!0===a.cancelled||(f(!1),v(c),m(Object(j.a)(Object(j.a)({},b),{},{customerId:r})),r&&localStorage.setItem("customerId",r),e(A({name:o,date:s})),t.push({pathname:"/confirm/"+n})));var n,r,c,o,s},scope:"row",sx:{p:1,pl:1,mb:1,width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("strong",{children:"Invited"===a.name?"Invitado":a.name}),Object(I.jsxs)("p",{className:"type",children:["invoice"===a.type?"Factura":"ticket"===a.type?"Boleta":"Nota","\xa0::\xa0",Object(I.jsx)(Se.a,{locale:"es-us",format:"DD MMMM  - HH:mm",children:a.date})]})]}),!1===a.cancelled?Object(I.jsxs)("div",{style:{paddingTop:"12px"},children:["S/\xa0",a.amount,"\xa0"]}):Object(I.jsx)("div",{style:{paddingTop:"12px",color:"#ff5200"},children:"Cancelled"})]})},n)})).reverse().slice(0,!0===le?je:8)})})]})})})}),Object(I.jsx)(W.a,{item:!0,className:"footer",sx:{position:"fixed",bottom:"0px",width:"100%"},children:Object(I.jsx)(x.a,{variant:"contained",onClick:function(){localStorage.removeItem("customerId"),!0===J?t.push("/invite"):t.push("/customer")},color:"info",sx:{marginBottom:"10px",width:"60%"},children:"ENVIAR"})}),Object(I.jsxs)(oe.a,{open:!S.name&&R,TransitionComponent:Ve,keepMounted:!0,onClose:Q,fullWidth:!0,"aria-describedby":"alert-dialog-slide-description",children:[Object(I.jsx)(de.a,{sx:{mx:"auto"},color:"primary",children:"Adquiere la versi\xf3n Full !!"}),Object(I.jsx)(ie.a,{children:Object(I.jsx)(ue.a,{sx:{fontSize:"80%"},id:"alert-dialog-slide-description",children:"Bienvenido a Fino. Actualmente estas en version Free. Para utilizar la versi\xf3n PRO. por favor contactenos al: 943204360 o haciendo click en el boton de abajo."})}),Object(I.jsx)(se.a,{sx:{mx:"auto"},children:Object(I.jsx)(x.a,{sx:{p:1,fontSize:"70%"},startIcon:Object(I.jsx)(Fe.a,{color:"white",sx:{fontSize:"80px"},fontSize:"large"}),color:"success",variant:"contained",onClick:function(){window.open("https://api.whatsapp.com/send?phone=+51943204360&text=Hola,%20deseo%20soporte%20para%20integrar%20mi%20sistema%20a%20FINO.")},children:"Contactar por WhatsApp"})})]}),Object(I.jsxs)(oe.a,{open:V,TransitionComponent:Ve,keepMounted:!0,onClose:Q,fullWidth:!0,"aria-describedby":"alert-dialog-slide-description",children:[Object(I.jsx)(de.a,{sx:{mx:"auto"},color:"primary",children:"Est\xe1s en la versi\xf3n Pro"}),Object(I.jsx)(se.a,{sx:{mx:"auto"},children:Object(I.jsx)(x.a,{sx:{p:1,fontSize:"70%"},startIcon:Object(I.jsx)(Fe.a,{color:"white",sx:{fontSize:"80px"},fontSize:"large"}),color:"success",variant:"contained",onClick:function(){window.open("https://api.whatsapp.com/send?phone=+51943204360&text=Hola,%20deseo%20soporte%20para%20integrar%20mi%20sistema%20a%20FINO.")},children:"Contactar por WhatsApp"})})]})]})}var Je=a(178),Ye=a.n(Je),Xe=a(121),Ke=a.n(Xe),Qe=Object(m.a)(f.c)((function(e){var t=e.theme;return{"label + &":{marginTop:t.spacing(3)},"& .MuiInputBase-input":{position:"relative",backgroundColor:"white",fontSize:14,width:"100%",padding:"12px 16px",transition:t.transitions.create(["border-color","background-color","box-shadow","border-width"]),"&:focus":{borderColor:"#FA4616",borderWidth:"1px"}}}}));function Ze(){var e=Object(u.f)(),t=Object(n.useContext)(O),a=t.loginStatus,c=t.setLoginStatus,o=Object(h.useToasts)().addToast,i=Object(n.useState)([]),d=Object(s.a)(i,2),b=d[0],m=d[1],v=Object(n.useState)([]),g=Object(s.a)(v,2),y=g[0],D=g[1],T=Object(n.useState)({sellerId:"",name:"",doc:"",direction:"",docType:"",frequent:0}),P=Object(s.a)(T,2),N=P[0],E=P[1],_=Object(n.useState)({invoice:!1,ticket:!1,note:!1}),A=Object(s.a)(_,2),z=A[0],R=A[1];Object(n.useEffect)((function(){return function(){var t=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.removeItem("customerId"),a=localStorage.getItem("auth-token")){t.next=5;break}return e.push("/"),t.abrupt("return");case 5:return t.next=7,w.a.get("/users/",{headers:{"x-auth-token":a}});case 7:n=t.sent,c({token:a,email:n.data.email,customerId:""}),w.a.get("/customers/all/"+n.data.id).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(t.data),E(Object(j.a)(Object(j.a)({},N),{},{sellerId:n.data.id})),m(t.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w.a.get("/users/getId/"+n.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(Object(j.a)(Object(j.a)({},z),{},{invoice:t.data.docType[0],ticket:t.data.docType[1],note:t.data.docType[2]}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){E([]),D([]),R({})}}),[]);var L=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.name){e.next=3;break}return o("Por favor ingrese el nombre",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),e.abrupt("return");case 3:if(N.doc){e.next=6;break}return o("Numero de Documento es Incorrecto",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),e.abrupt("return");case 6:if(N.direction){e.next=9;break}return o("Por favor ingrese la direcci\xf3n",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),e.abrupt("return");case 9:return e.next=11,w.a.post("/customers/create",N);case 11:200===(t=e.sent).data.status?(E(Object(j.a)(Object(j.a)({},N),{},{doc:"",name:"",direction:""})),w.a.get("/customers/all/"+N.sellerId).then(function(){var e=Object(p.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.pop(),B(a.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):o(t.data.msg,{appearance:"error",autoDismiss:!0});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(t){w.a.get("/customers/get/"+t).then(function(){var n=Object(p.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:z.ticket||z.note||"dni"!==r.data[0].docType?(c(Object(j.a)(Object(j.a)({},a),{},{customerId:t})),localStorage.setItem("customerId",t),e.push("/invoice")):(o("No se puede usar DNI!!! Por favor contactate con el administrador",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),Y(!1),V(""),D(b));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},M=Object(n.useState)(""),F=Object(s.a)(M,2),U=F[0],V=F[1],q=Object(n.useState)(!1),H=Object(s.a)(q,2),G=H[0],Y=H[1],X=Object(n.useState)(""),K=Object(s.a)(X,2),Q=K[0],Z=K[1],$=function(e){return function(){w.a.delete("/customers/delete/"+e).then((function(e){"success"===e.data.msg?o("Borrado exitosamente",{appearance:"success",autoDismiss:!0}):o("Lo siento, la operaci\xf3n ha fallado",{appearance:"error",autoDismiss:!0})}))}},ee=r.a.useState(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)({id:"",name:"",direction:""}),ce=Object(s.a)(re,2),ue=ce[0],le=ce[1],pe=function(e,t,a){return function(){le({id:e,name:t,direction:a}),ne(!0)}},be=function(){ne(!1)},je=function(){var e=Object(p.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("/customers/update",{id:ue.id,name:ue.name,direction:ue.direction});case 2:200===(t=e.sent).status?(a=y.map((function(e){return ue.id===e.id?Object(j.a)(Object(j.a)({},e),{},{name:ue.name,direction:ue.direction}):e})),D(a),be()):o(t.data.msg,{appearance:"error",autoDismiss:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=Object(n.useState)(!1),fe=Object(s.a)(me,2),xe=fe[0],he=fe[1];return Object(I.jsxs)(C.a,{sx:{height:"100vh",backgroundColor:"#EDEDF5"},children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){e.push("/translist")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsx)("p",{style:{letterSpacing:"3px",fontWeight:"500",paddingBottom:"20px",fontSize:"20px",color:"#1976d2",paddingTop:"40px"},children:"CLIENTES"}),Object(I.jsxs)(Te.a,{sx:{px:1,mx:1,mb:0,display:"flex",alignItems:"center",marginBottom:"13px",boxShadow:"unset",border:"1px solid #f5f5f5"},children:[Object(I.jsx)(f.c,{sx:{ml:1,flex:1},placeholder:"Buscar Nombre / RUC o DNI",inputProps:{"aria-label":"search google maps"},onChange:function(e){return function(e){e.preventDefault(),V(e.target.value.toUpperCase())}(e)},value:U}),Object(I.jsx)(k.a,{onClick:function(){if(console.log(y),Z(""),E(Object(j.a)(Object(j.a)({},N),{},{doc:U,name:"",direction:"",docType:""})),Y(!0),8===U.length){var e="https://facturalahoy.com/api/persona/"+U.toString()+"/facturalaya_evalles_orE26f69ngmqmqB";fetch(e).then((function(e){return e.json()})).then((function(e){"ok"===e.respuesta?E(Object(j.a)(Object(j.a)({},N),{},{doc:e.dni,name:e.nombre,direction:"",docType:"dni"})):(o("Numero de Documento es Incorrecto",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),Z("RUC O DNI, no existe, por favor escribe correcto. si es otro tipo de documento, escriba manualmente."))})).catch((function(e){console.log(e)}))}else if(11===U.length){var t="https://facturalahoy.com/api/empresa/"+U.toString()+"/facturalaya_evalles_orE26f69ngmqmqB";fetch(t).then((function(e){return e.json()})).then((function(e){"ok"===e.respuesta?E(Object(j.a)(Object(j.a)({},N),{},{doc:e.ruc,name:e.razon_social,direction:e.direccion.trim(),docType:"ruc"})):(o("Numero de Documento es Incorrecto",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),Z("RUC O DNI, no existe, por favor escribe correcto. si es otro tipo de documento, escriba manualmente."))})).catch((function(e){console.log(e)}))}else o("No encontramos resultados",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),Z("RUC O DNI, no existe, por favor escribe correcto. si es otro tipo de documento, escriba manualmente.")},sx:{p:"10px"},"aria-label":"search",children:Object(I.jsx)(Ye.a,{color:"primary"})})]}),!G&&Object(I.jsx)(Te.a,{sx:{overflow:"hidden",width:"100%",backgroundColor:"#EDEDF5",mt:"0",boxShadow:"0px 0px 0px 0px"},children:Object(I.jsx)(_e.a,{sx:{mx:"auto",width:"95%",Index:"0",maxHeight:"calc(100vh - 225px)"},children:Object(I.jsxs)(Pe.a,{"aria-label":"sticky table",children:[Object(I.jsx)(Ne.a,{children:Object(I.jsx)(Ue.SwipeableList,{sx:{p:0,m:0},type:Ue.Type.IOS,children:y.sort((function(e,t){return t.frequent-e.frequent})).filter((function(e){return e.doc.includes(U)||e.name.includes(U)})).map((function(e,t){return Object(I.jsx)(Ue.SwipeableListItem,{trailingActions:(a=e.id,n=e.name,r=e.direction,Object(I.jsxs)(Ue.TrailingActions,{sx:{overflow:"hidden"},children:[Object(I.jsx)(Ue.SwipeAction,{sx:{width:"10px"},onClick:pe(a,n,r),children:Object(I.jsx)(x.a,{variant:"text",endIcon:Object(I.jsx)(Ke.a,{size:"large"})})}),Object(I.jsx)(Ue.SwipeAction,{destructive:!0,onClick:$(a),children:Object(I.jsx)(x.a,{variant:"text",startIcon:Object(I.jsx)(De.a,{size:"large"})})})]})),children:Object(I.jsxs)(Ee.a,{onClick:function(){return B(e.id)},scope:"row",sx:{p:1,pl:1,mb:1,width:"100%",borderLeft:"3px solid grey"},children:[Object(I.jsx)("strong",{children:e.name}),Object(I.jsx)("p",{children:e.doc})]},t)},t);var a,n,r})).slice(0,!0===xe?y.length:10)})}),y.length>10?Object(I.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){he(!0)},children:"VER TODOS"}):Object(I.jsx)(I.Fragment,{})]})})}),G&&Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{style:{color:"#1976d2",fontSize:"14px",marginTop:"15px",padding:"0px 50px"},children:Q}),Object(I.jsx)(W.a,{container:!0,direction:"column",children:Object(I.jsx)(Qe,{placeholder:"Ingrese el nombre",name:"description",sx:{width:"85%",mx:"auto"},value:N.name,onChange:function(e){E(Object(j.a)(Object(j.a)({},N),{},{name:e.target.value}))},disabled:""===Q})}),Object(I.jsx)(W.a,{container:!0,direction:"column",sx:{mt:2},children:Object(I.jsx)(Qe,{placeholder:"Ingrese la direcci\xf3n",name:"description",sx:{width:"85%",mx:"auto"},value:N.direction,onChange:function(e){E(Object(j.a)(Object(j.a)({},N),{},{direction:e.target.value}))}})}),Object(I.jsx)(x.a,{variant:"contained",sx:{marginTop:"40px"},onClick:L,className:"btn-action",children:"Seleccione"})]}),Object(I.jsx)(W.a,{item:!0,className:"footer",sx:{position:"fixed",bottom:"0px",width:"100%"},children:!G&&Object(I.jsx)(x.a,{variant:"contained",sx:{mb:2,width:"80%"},onClick:function(){z.ticket||z.note?(localStorage.removeItem("customerId"),e.push("/invite")):o("No puedes crear una factura a este documento",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"})},children:"INVITADO"})}),Object(I.jsxs)(oe.a,{open:ae,onClose:be,children:[Object(I.jsx)(de.a,{children:"Edit Customer"}),Object(I.jsxs)(ie.a,{children:[Object(I.jsx)(J.a,{autoFocus:!0,focused:!0,margin:"dense",id:"name",label:"Name",type:"email",fullWidth:!0,variant:"standard",value:ue.name,onChange:function(e){return le(Object(j.a)(Object(j.a)({},ue),{},{name:e.target.value}))}}),Object(I.jsx)(J.a,{margin:"dense",id:"direction",focused:!0,label:"direction",type:"text",fullWidth:!0,variant:"standard",value:ue.direction,onChange:function(e){return le(Object(j.a)(Object(j.a)({},ue),{},{direction:e.target.value}))}})]}),Object(I.jsxs)(se.a,{children:[Object(I.jsx)(x.a,{onClick:be,children:"Cancel"}),Object(I.jsx)(x.a,{onClick:je,children:"Change"})]})]})]})}a(259);function $e(){var e=Object(P.b)(),t=Object(n.useContext)(O),a=t.setLoginStatus,c=t.setPdf,o=t.setConf,i=t.loginStatus,d=Object(n.useState)({amount:"",name:"Invited",doc:"",direction:"",sellerId:"",customerId:"",type:"",pdfLink:["",""]}),m=Object(s.a)(d,2),f=m[0],x=m[1],v=Object(n.useState)(null),g=Object(s.a)(v,2),y=g[0],D=g[1],T=Object(n.useState)(null),N=Object(s.a)(T,2),E=N[0],_=N[1],z=r.a.useState(!1),R=Object(s.a)(z,2),L=R[0],B=R[1],M=Object(n.useState)(null),F=Object(s.a)(M,2),V=F[0],q=F[1],H=r.a.useState(!1),G=Object(s.a)(H,2),J=G[0],Y=G[1],X=Object(h.useToasts)().addToast,te=Object(u.f)(),ce=Object(n.useState)({invoice:!1,ticket:!1,note:!1}),oe=Object(s.a)(ce,2),se=oe[0],ie=oe[1];Object(n.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("auth-token")){e.next=4;break}return te.push("/"),e.abrupt("return");case 4:return e.next=6,w.a.get("/users/",{headers:{"x-auth-token":t}});case 6:n=e.sent,a({token:t,email:n.data.email,customerId:""}),w.a.get("/users/getId/"+n.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(t.data.showCant),_(t.data.defaultText),B(t.data.showMultiItems),q(t.data.items),ie(Object(j.a)(Object(j.a)({},se),{},{invoice:t.data.docType[0],ticket:t.data.docType[1],note:t.data.docType[2]})),x(Object(j.a)(Object(j.a)({},f),{},{sellerId:t.data._id})),t.data.docType[1]&&!t.data.docType[2]&&(x(Object(j.a)(Object(j.a)({},f),{},{type:"ticket",sellerId:t.data._id})),ie(Object(j.a)(Object(j.a)({},se),{},{ticket:!1}))),!t.data.docType[1]&&t.data.docType[2]&&(x(Object(j.a)(Object(j.a)({},f),{},{type:"note",sellerId:t.data._id})),ie(Object(j.a)(Object(j.a)({},se),{},{note:!1})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var ue=Object(n.useState)(2),de=Object(s.a)(ue,2),le=de[0],pe=de[1],be=Object(P.c)((function(e){return e.slide})),je=Object(n.useState)([]),me=Object(s.a)(je,2),fe=me[0],xe=me[1],he=[],Oe=function(){for(var e=function(e){he.push(fe.filter((function(t){return t.index===e})).pop())},t=0;t<le-1;t++)e(t)},ve=Object(n.useState)(0),ge=Object(s.a)(ve,2),we=ge[0],ke=ge[1];Object(n.useEffect)((function(){xe((function(e){return[].concat(Object(U.a)(e),[be])}))}),[be]),Object(n.useEffect)((function(){Oe(),function(){for(var e=0,t=0;t<he.length;t++)void 0===he[t]||(e+=he[t].count*Number(he[t].amount));ke(e.toFixed(2))}()}),[fe]),Object(n.useEffect)((function(){x(Object(j.a)(Object(j.a)({},f),{},{amount:we.toString()}))}),[we]);function ye(){return(ye=Object(p.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("note"===n?"https://facturavirtual.pe/facturacion/api/procesar_nota_venta":"https://facturavirtual.pe/facturacion/api/procesar_venta",a).then((function(e){return e.json()})).then(function(){var t=Object(p.a)(l.a.mark((function t(r){var s,u,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="note"===n?"https://facturavirtual.pe/sys_fe/download/verpdf/".concat(r.documento.id_contribuyente,"/").concat(r.documento.id_tipodoc_electronico,"/").concat(r.documento.serie_comprobante,"/").concat(r.documento.numero_comprobante,"/pdf/ticket/cpe.pdf"):"https://facturavirtual.pe/sys_fe/download/downloadpdf/".concat(r.documento.id_contribuyente,"/").concat(r.documento.id_tipodoc_electronico,"/").concat(r.documento.serie_comprobante,"/").concat(r.documento.numero_comprobante,"/pdf/ticket/cpe.pdf"),u=r.url_absoluta_a4,x(Object(j.a)(Object(j.a)({},f),{},{pdfLink:[s,u]})),d=Object(j.a)(Object(j.a)({},f),{},{pdfLink:[s,u]}),t.next=6,w.a.post("/trans/create",d).then(function(){var t=Object(p.a)(l.a.mark((function t(n){var r,s,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===n.data.status&&(c(d.pdfLink),r=JSON.parse(a.body).detalle,s=[],r.map(function(){var e=Object(p.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push(t.descripcion);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),w.a.post("users/items/add",{email:i.email,item:s}),o(!0),u=new Date,e(A({name:"Invited",date:u})),te.push({pathname:"/confirm/"+f.amount}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){X("La propiedad contribuyente->id_usuario_vendedor tiene un valor inv\xe1lido",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),Y(!1)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){return function(){ke(),he.fill(null),xe(null),pe(2)}}),[]);var Se=new Array(!0===L?le:1).fill(null).map((function(e,t){return Object(I.jsx)(ne.b,{children:function(e){var a=e.isActive;return Object(I.jsx)(K,{index:t,items:V,count:y,text:E,active:!!a})}},t)}));return Object(I.jsxs)(C.a,{sx:{flexGrow:1,width:"100%",height:"100%",backgroundColor:"white"},children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){te.push("/customer")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsxs)(W.a,{container:!0,direction:"column",sx:{mt:8},justifyContent:"space-between",alignItems:"center",children:[Object(I.jsx)(W.a,{item:!0,children:Object(I.jsx)("p",{className:"doc",children:"Invitado"})}),Object(I.jsx)(W.a,{sx:{width:"100%",mt:1},item:!0,children:Object(I.jsx)(ne.a,{spaceBetween:0,slidesPerView:1,onReachEnd:function(){pe((function(e){return e+1}))},children:f.sellerId?Se:Object(I.jsx)("br",{})})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:2},children:Object(I.jsxs)(Z.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",sx:{pl:2},children:[se.ticket&&Object(I.jsx)($.a,{name:"type",value:"ticket",control:Object(I.jsx)(Q.a,{size:"small"}),label:"Boleta",onChange:function(e){return x(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))}}),se.note&&Object(I.jsx)($.a,{name:"type",value:"note",control:Object(I.jsx)(Q.a,{size:"small"}),label:"Nota",onChange:function(e){return x(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))}})]})}),Object(I.jsx)(W.a,{item:!0,sx:{mt:4},children:Object(I.jsxs)("p",{className:"total",children:["Total S/\xa0",we]})}),Object(I.jsx)(W.a,{item:!0,sx:{width:"60%",mt:1},children:Object(I.jsx)(ee.a,{onClick:function(){if(w.a.get("/users/get/"+f.sellerId).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data.active_status){e.next=6;break}return X("Tu suscripci\xf3n a sido expirado. Cont\xe1ctate con el Administrador",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"}),localStorage.removeItem("auth-token"),localStorage.removeItem("customerId"),te.push("/login"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.amount)if(Oe(),void 0!==he[0]){for(var e=0;e<he.length;e++)if(void 0===he[e])he.splice(e,1);else if(1===he[e].count&&"0"===he[e].amount);else{if(""===he[e].description)return void X("Por favor Ingrese la Descripci\xf3n",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"});if("0"===he[e].amount)return void X("Por Favor Ingrese el Monto",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"})}f.type?(Y(!0),c(["",""]),w.a.get("/users/get/"+f.sellerId).then((function(e){!function(e,t){ye.apply(this,arguments)}(re(he,f,e.data),f.type)}))):X("Seleccione el tipo de documento",{appearance:"info",autoDismiss:!0,autoDismissTimeout:2e3,placement:"top-center"})}else X("Por favor Ingrese la Descripci\xf3n",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"});else X("Por Favor Ingrese el Monto",{appearance:"info",autoDismissTimeout:2e3,autoDismiss:!0,placement:"top-center"})},endIcon:Object(I.jsx)(ae.a,{}),loading:J,loadingPosition:"end",fullWidth:!0,variant:"contained",children:""===f.type?"ENVIAR":"note"===f.type?"Nota":"Boleta"})})]})]})}var et=a(350),tt=a(326),at=a(125),nt=a.n(at),rt=a(307),ct=a(314),ot=a(179),st=a.n(ot),it=a(336),ut=a(319),dt=a(313),lt=a(180),pt=a.n(lt);function bt(){var e=Object(u.f)(),t=Object(h.useToasts)().addToast,a=function(){},r=function(){var a=Object(p.a)(l.a.mark((function a(){var n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={email:G,showCant:i,directSale:f,quickPrint:y,showMultiItems:P,formatShareA4:A,formatPrintA4:W,itemsIgv:U,defaultText:Q},a.next=3,w.a.put("/users/updateProfile",n);case 3:200===(r=a.sent).status?(t("Saved successfully",{appearance:"success",autoDismiss:!0}),e.push("/translist")):t(r.data.msg,{appearance:"error",autoDismiss:!0});case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),c=n.useState(!1),o=Object(s.a)(c,2),i=o[0],d=o[1],b=n.useState(!1),m=Object(s.a)(b,2),f=m[0],O=m[1],v=n.useState(!1),g=Object(s.a)(v,2),y=g[0],C=g[1],D=n.useState(!1),T=Object(s.a)(D,2),P=T[0],N=T[1],E=n.useState(!1),_=Object(s.a)(E,2),A=_[0],z=_[1],R=n.useState(!1),L=Object(s.a)(R,2),W=L[0],B=L[1],M=n.useState(!1),F=Object(s.a)(M,2),U=F[0],V=F[1],q=n.useState(""),H=Object(s.a)(q,2),G=H[0],Y=H[1],X=n.useState(""),K=Object(s.a)(X,2),Q=K[0],Z=K[1],$=n.useState({invoice:!1,ticket:!1,note:!1}),ee=Object(s.a)($,2),te=ee[0],ae=ee[1];return n.useEffect((function(){return function(){var t=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("auth-token")){t.next=4;break}return e.push("/"),t.abrupt("return");case 4:return t.next=6,w.a.get("/users/",{headers:{"x-auth-token":a}});case 6:n=t.sent,Y(n.data.email),w.a.get("/users/getId/"+n.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.data.showCant),O(t.data.directSale),C(t.data.quickPrint),N(t.data.showMultiItems),z(t.data.formatShareA4),B(t.data.formatPrintA4),V(t.data.itemsIgv),Z(t.data.defaultText),ae(Object(j.a)(Object(j.a)({},te),{},{invoice:t.data.docType[0],ticket:t.data.docType[1],note:t.data.docType[2]}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){}}),[]),Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{style:{width:"100%",textAlign:"center",fontWeight:900,fontSize:"30px",marginTop:"20px",color:"#1976d2"},children:"Perfil"}),Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){e.push("/translist")},sx:{position:"absolute",top:"10px",right:"10px",zIndex:1},children:Object(I.jsx)(S.a,{})}),Object(I.jsxs)(it.a,{sx:{px:2,pt:1,bgcolor:"background.paper",height:"100vh"},children:[Object(I.jsx)(x.a,{onClick:function(){e.push("/items")},endIcon:Object(I.jsx)(st.a,{}),variant:"outlined",sx:{marginBottom:"10px",ontWeight:600},fullWidth:!0,children:"Mostrar \xedtems"}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Mostrar cantidad"}),Object(I.jsx)(et.a,{edge:"end",checked:i,onChange:function(e){d(e.target.checked)}})]}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Venta Directa"}),Object(I.jsx)(et.a,{edge:"end",checked:f,onChange:function(e){O(e.target.checked)}})]}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Impresi\xf3n r\xe1pida"}),Object(I.jsx)(et.a,{edge:"end",checked:y,onChange:function(e){C(e.target.checked)}})]}),Object(I.jsx)(J.a,{sx:{my:1},label:"Descripci\xf3n por defecto",size:"small",variant:"standard",fullWidth:!0,focused:!0,value:Q,onChange:function(e){return Z(e.target.value)},placeholder:"Descripci\xf3n por defecto "}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Mostrar varios \xedtems "}),Object(I.jsx)(et.a,{edge:"end",checked:P,onChange:function(e){N(e.target.checked)}})]}),Object(I.jsxs)(je.a,{sx:{mt:1,borderBottom:"2px solid #1976d2",pb:1,width:"100%"},children:[Object(I.jsx)(rt.a,{id:"demo-controlled-radio-buttons-group",sx:{fontWeight:600},children:"Documentos admitidos"}),Object(I.jsxs)(ct.a,{direction:"row",spacing:1,sx:{mx:"auto"},children:[Object(I.jsx)(tt.a,{sx:{mx:1},label:"Factura ",onDelete:a,color:"info",deleteIcon:Object(I.jsx)(nt.a,{}),disabled:!te.invoice}),Object(I.jsx)(tt.a,{sx:{mx:1},label:"Boleta ",onDelete:a,color:"info",deleteIcon:Object(I.jsx)(nt.a,{}),disabled:!te.ticket}),Object(I.jsx)(tt.a,{sx:{mx:1},label:"Nota",onDelete:a,color:"info",deleteIcon:Object(I.jsx)(nt.a,{}),disabled:!te.note})]})]}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Compartir en formato A4"}),Object(I.jsx)(et.a,{edge:"end",checked:A,onChange:function(e){z(e.target.checked)}})]}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"Imprimir en formato A4"}),Object(I.jsx)(et.a,{edge:"end",checked:W,onChange:function(e){B(e.target.checked)}})]}),Object(I.jsxs)(ut.a,{sx:{borderBottom:"2px solid #1976d2"},children:[Object(I.jsx)(dt.a,{primary:"IGV exonerado?"}),Object(I.jsx)(et.a,{edge:"end",checked:U,onChange:function(e){V(e.target.checked)}})]}),Object(I.jsx)(x.a,{endIcon:Object(I.jsx)(pt.a,{}),variant:"contained",sx:{marginTop:"10px",fontWeight:600},onClick:r,children:"GUARDAR"})]})]})}var jt=a(181),mt=a.n(jt);function ft(){var e=Object(u.f)(),t=Object(h.useToasts)().addToast,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1],d=Object(n.useState)({email:"",item:""}),b=Object(s.a)(d,2),m=b[0],O=b[1];Object(n.useEffect)((function(){return function(){var t=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.removeItem("customerId"),a=localStorage.getItem("auth-token")){t.next=5;break}return e.push("/"),t.abrupt("return");case 5:return t.next=7,w.a.get("/users/",{headers:{"x-auth-token":a}});case 7:n=t.sent,O(Object(j.a)(Object(j.a)({},m),{},{email:n.data.email})),w.a.get("/users/getId/"+n.data.email).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.data.items);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){O(),i([])}}),[]);var v=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("users/items/delete",{email:m.email,item:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=r.a.useState(!1),y=Object(s.a)(g,2),D=y[0],T=y[1],P=Object(n.useState)({temp:"",index:null}),N=Object(s.a)(P,2),E=N[0],_=N[1],A=function(e,t){return function(){_({temp:e,index:t}),T(!0)}},z=function(){T(!1)},R=function(e,t){return Object(I.jsxs)(Ue.TrailingActions,{sx:{overflow:"hidden"},children:[Object(I.jsx)(Ue.SwipeAction,{sx:{width:"10px"},onClick:A(e,t),children:Object(I.jsx)(x.a,{variant:"text",endIcon:Object(I.jsx)(Ke.a,{size:"large"})})}),Object(I.jsx)(Ue.SwipeAction,{destructive:!0,onClick:function(){return v(e)},children:Object(I.jsx)(x.a,{variant:"text",startIcon:Object(I.jsx)(De.a,{size:"large"})})})]})};return Object(I.jsxs)(C.a,{sx:{height:"100vh",backgroundColor:"#EDEDF5"},children:[Object(I.jsx)(k.a,{color:"primary","aria-label":"back",onClick:function(){e.push("/profile")},sx:{position:"absolute",top:"10px",right:"10px"},children:Object(I.jsx)(S.a,{})}),Object(I.jsx)("p",{style:{letterSpacing:"3px",fontWeight:"500",paddingBottom:"20px",fontSize:"20px",color:"#1976d2",paddingTop:"40px"},children:"ITEMS"}),Object(I.jsxs)(Te.a,{sx:{px:1,mx:1,mb:0,display:"flex",alignItems:"center",marginBottom:"13px",boxShadow:"unset",border:"1px solid #f5f5f5"},children:[Object(I.jsx)(f.c,{sx:{ml:1,flex:1},placeholder:"Agregar Items",value:m.item,onChange:function(e){!function(e){O(Object(j.a)(Object(j.a)({},m),{},{item:e.target.value}))}(e)},inputProps:{"aria-label":"search google maps"}}),Object(I.jsx)(k.a,{onClick:function(){o.length>=20?t("L\xedmite 20 \xedtems",{appearance:"warning",autoDismiss:!0}):""!==m.item?o.some((function(e){return e===m.item}))?t("Este elemento ya existe",{appearance:"warning",autoDismiss:!0}):w.a.post("users/items/add",{email:m.email,item:[m.item]}).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.data.items);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):t("Ingrese el nombre del art\xedculo",{appearance:"warning",autoDismiss:!0})},sx:{p:"10px"},"aria-label":"search",children:Object(I.jsx)(mt.a,{color:"primary"})})]}),Object(I.jsx)(Te.a,{sx:{overflow:"hidden",width:"100%",backgroundColor:"#EDEDF5",mt:"0",boxShadow:"0px 0px 0px 0px"},children:Object(I.jsx)(_e.a,{sx:{mx:"auto",width:"95%",Index:"0",maxHeight:"calc(100vh - 10px)"},children:Object(I.jsx)(Pe.a,{"aria-label":"sticky table",children:Object(I.jsx)(Ne.a,{children:Object(I.jsx)(Ue.SwipeableList,{sx:{p:0,m:0},type:Ue.Type.IOS,children:o.filter((function(e){return e.includes(m.item)})).map((function(e,t){return Object(I.jsx)(Ue.SwipeableListItem,{trailingActions:R(e,t),children:Object(I.jsx)(Ee.a,{scope:"row",sx:{p:1,pl:1,mb:1,width:"100%",borderLeft:"3px solid grey"},children:Object(I.jsx)("strong",{style:{fontSize:"15px"},children:e})},t)},t)})).reverse().slice(0,20)})})})})}),Object(I.jsxs)(oe.a,{fullWidth:!0,open:D,onClose:z,children:[Object(I.jsx)(de.a,{children:"Editar \xcdtem"}),Object(I.jsx)(ie.a,{children:Object(I.jsx)(J.a,{autoFocus:!0,focused:!0,margin:"dense",id:"name",label:"Nombre",type:"text",fullWidth:!0,variant:"standard",value:E.temp,onChange:function(e){return _(Object(j.a)(Object(j.a)({},E),{},{temp:e.target.value}))}})}),Object(I.jsxs)(se.a,{children:[Object(I.jsx)(x.a,{onClick:z,children:"Cancelar "}),Object(I.jsx)(x.a,{onClick:function(){o.some((function(e){return e===E.temp}))?t("Este elemento ya existe",{appearance:"warning",autoDismiss:!0}):w.a.put("users/items/update",{email:m.email,index:E.index,item:E.temp}).then(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.data.items);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Guardar "})]})]})]})}function xt(){var e=Object(n.useState)({token:void 0,email:void 0,customerId:""}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),d=o[0],l=o[1],p=Object(n.useState)(!0),b=Object(s.a)(p,2),j=b[0],m=b[1];return Object(I.jsx)(i.a,{children:Object(I.jsx)(O.Provider,{value:{loginStatus:a,setLoginStatus:r,pdf:d,setPdf:l,conf:j,setConf:m},children:Object(I.jsx)(h.ToastProvider,{children:Object(I.jsxs)(u.c,{children:[Object(I.jsx)(u.a,{exact:!0,path:"/",component:F}),Object(I.jsx)(u.a,{exact:!0,path:"/login",component:T}),Object(I.jsx)(u.a,{exact:!0,path:"/register",component:L}),Object(I.jsx)(u.a,{exact:!0,path:"/invoice",component:ce}),Object(I.jsx)(u.a,{exact:!0,path:"/admin",component:le}),Object(I.jsx)(u.a,{exact:!0,path:"/admin/edit/:id",component:xe}),Object(I.jsx)(u.a,{exact:!0,path:"/admin/new",component:ke}),Object(I.jsx)(u.a,{exact:!0,path:"/confirm/:id",component:Ce}),Object(I.jsx)(u.a,{exact:!0,path:"/translist",component:Ge}),Object(I.jsx)(u.a,{exact:!0,path:"/customer",component:Ze}),Object(I.jsx)(u.a,{exact:!0,path:"/invite",component:$e}),Object(I.jsx)(u.a,{exact:!0,path:"/profile",component:bt}),Object(I.jsx)(u.a,{exact:!0,path:"/items",component:ft})]})})})})}var ht=a(84),Ot=a(182),vt=a(183),gt={currentEmail:"",customerId:""},wt={},kt={},yt=Object(ht.combineReducers)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var a=Object(j.a)(Object(j.a)({},e),{},{currentEmail:t.payload.email,customerId:t.payload.customerId});return a;default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;default:return e}},slide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;default:return e}}}),St=Object(Ot.composeWithDevTools)(Object(ht.applyMiddleware)(vt.a)),Ct=function(){var e=Object(ht.createStore)(yt,St);return e};var It=function(){var e=Ct();return Object(I.jsx)(P.a,{store:e,children:Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(xt,{})})})},Dt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,351)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(I.jsx)(It,{}),document.getElementById("root")),Dt()}},[[260,1,2]]]);
//# sourceMappingURL=main.49bbc083.chunk.js.map